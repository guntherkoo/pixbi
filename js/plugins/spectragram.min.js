"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a){var b={init:function(b,c){var d=this;d.elem=c,d.$elem=a(c),d.api="https://api.instagram.com/v1",d.accessData=a.fn.spectragram.accessData,d.options=a.extend({},a.fn.spectragram.options,b)},getRecentMedia:function(a){var b=this,c="/users/"+a+"/media/recent/?"+b.accessData.clientID+"&access_token="+b.accessData.accessToken;b.fetch(c).done(function(a){b.display(a)})},getUserFeed:function(){var b=this,c="/users/search?q="+b.options.query+"&count="+b.options.max+"&client_id="+b.accessData.clientID;b.fetch(c).done(function(c){c.data.length?b.getRecentMedia(c.data[0].id):a.error("Spectagram.js - Error: the username "+b.options.query+" does not exist.")})},getPopular:function(){var a=this,b="/media/popular?client_id="+a.accessData.clientID+"&access_token="+a.accessData.accessToken;a.fetch(b).done(function(b){a.display(b)})},getRecentTagged:function(){var b=this,c="/tags/"+b.options.query+"/media/recent?client_id="+b.accessData.clientID+"&access_token="+b.accessData.accessToken;b.fetch(c).done(function(c){c.data.length?b.display(c):a.error("Spectagram.js - Error: the tag "+b.options.query+" does not have results.")})},fetch:function(b){var c=this,d=c.api+b;return a.ajax({type:"GET",dataType:"jsonp",cache:!1,url:d})},display:function(b){var c,d=this,e=d.options.size,f=d.options.max>=b.data.length?b.data.length:d.options.max;if(0===b.data.length)d.$elem.append(a(d.options.wrapEachWith).append(d.options.notFoundMsg));else for(var g=0;f>g;g++)c="small"==e?b.data[g].images.thumbnail.url:"medium"==e?b.data[g].images.low_resolution.url:b.data[g].images.standard_resolution.url,d.$elem.append(a(d.options.wrapEachWith).append("<a title='"+b.data[g].caption.text+"' target='_blank' href='"+b.data[g].link+"'><img src='"+c+"'></img></a>"));d.options.complete.call(d)}};jQuery.fn.spectragram=function(c,d){jQuery.fn.spectragram.accessData.clientID?this.each(function(){var e=Object.create(b);return e.init(d,this),e[c]?e[c](this):void a.error("Method "+c+" does not exist on jQuery.spectragram")}):a.error("You must define an accessToken and a clientID on jQuery.spectragram")},jQuery.fn.spectragram.options={max:10,query:"coffee",size:"medium",wrapEachWith:"<li></li>",complete:null},jQuery.fn.spectragram.accessData={accessToken:null,clientID:null}}(jQuery,window,document);